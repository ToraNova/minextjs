{"version":3,"file":"static/webpack/static/development/pages/signup.js.ae2db3e99437e62d2299.hot-update.js","sources":["webpack:///./pages/signup.js"],"sourcesContent":["/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n\n//react components\nimport React, {Component} from 'react'\nimport Router from 'next/router'\n\n//custom imports\nimport AuthService from '../utils/authser.js'\nimport Layout from '../layouts/minimalist/border1.js'\n\n//configure AuthService onto localhost:1996\nconst auth = new AuthService('http://localhost:1996')\n\nclass Signup extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\n\tcomponentDidMount () {\n\t\tif (auth.loggedIn()) {\n\t\t\t// redirect if you're already logged in\n\t\t\tRouter.push('/profile')\n\t\t}\n\t}\n\n\thandleSubmit (e) {\n\t\te.preventDefault()\n\t\t// yay uncontrolled forms!\n\t\tauth.signUp(\n\t\t\tthis.refs.email.value,\n\t\t\tthis.refs.username.value,\n\t\t\tthis.refs.password.value\n\t\t)\n\t\t.then(res => {\n\t\t\tRouter.push('/profile')\n\t\t})\n\t\t.catch(e => {\n\t\t\t//display login error\n\t\t\tif(e.response.status == 400){\n\t\t\t\t//unauthorized (wrong creds or invalid input)\n\t\t\t\t//change the worm image\n\t\t\t\tthis.refs.worm.src = \"/icons/redcancel128.png\"\n\t\t\t\tthis.refs.status.innerHTML = \"Registration failed !\"\n\t\t\t}\n\t\t})\n\t}\n\n\trender () {\n\t\treturn (\n\t\t<Layout>\n\t\t<div className=\"login\">\n\t\t<img src=\"/icons/babyworm128.png\" alt=\"babyworm128.png\" ref=\"worm\" />\n\t\t<h1>New Wormy</h1>\n\t\t<form onSubmit={this.handleSubmit}>\n\n\t\t<label htmlFor='email'>Email Login</label>\n\t\t<input id=\"email\" type=\"text\" ref=\"email\"/>\n\n\t\t<label htmlFor='username'>Username</label>\n\t\t<input id=\"username\" type=\"text\" ref=\"username\"/>\n\n\t\t<label htmlFor='password'>Password</label>\n\t\t<input id=\"password\" type=\"password\" ref=\"password\"/>\n\n\t\t<br/>\n\t\t<label ref=\"status\" style={{color:'#ea3636', textAlign: 'right'}}></label>\n\n\t\t<input type=\"submit\" value=\"Register\"/>\n\n\t\t</form>\n\t\t</div>\n\t\t<style jsx>{`\n\t\t\t.login {\n\t\t\tmax-width: 340px;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: column;\n\t\t\t}\n\t\t\tlabel {\n\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\tinput {\n\t\t\tpadding: 8px;\n\t\t\tmargin: 0.3rem 0 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t.error {\n\t\t\tmargin: 0.5rem 0 0;\n\t\t\tdisplay: none;\n\t\t\tcolor: brown;\n\t\t\t}\n\t\t\t.error.show {\n\t\t\tdisplay: block;\n\t\t\t}\n\t\t`}</style>\n\t\t</Layout>\n\t\t)\n\t}\n}\n\nexport default Signup\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAOA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AACA;AACA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlBA;AAAA;AAAA;AAsDA;;;;AA3FA;AACA;AA6FA;;;;A","sourceRoot":""}