{"version":3,"file":"static/webpack/static/development/pages/logout.js.7700ccd9cd4f8aeb6877.hot-update.js","sources":["webpack:///./pages/logout.js"],"sourcesContent":["/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n\n//react components\nimport React, {Component} from 'react'\nimport Router from 'next/router'\n\n//custom service\nimport AuthService from '../utils/authser.js'\n\nimport Layout from '../layouts/minimalist/border1.js'\n\n//configure AuthService onto localhost:1996\nconst auth = new AuthService('http://localhost:1996')\n\nclass Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t}\n\n\tcomponentDidMount () {\n\t\t//logout the user\n\t\tauth.logout().then( res=> {\n\n\t\t\t//redirect to index page\n\t\t\tRouter.push('/')\n\t\t}).catch( e=> {\n\t\t\t//error occurred\n\t\t\tswitch( e.response.status ){\n\t\t\t\tcase 401:\n\t\t\t\t\t//user not logged in. this shouldn't happen since\n\t\t\t\t\t//logout should not run if user is not logged in\n\t\t\t\tcase 500:\n\t\t\t\t\t//back-end error, logout user from device anyways\n\t\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\t\tlocalStorage.removeItem('profile');\n\t\t\t\t\t//redirect back to login\n\t\t\t\t\tRouter.push('/login')\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//unknown error do not logout first\n\t\t\t\t\t//TODO: figure out what do properly do here\n\t\t\t\t\tRouter.push('/')\n\t\t\t}\n\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t<div>REDIRECTING....</div>\n\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Logout\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AAOA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AAEA;AACA;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAdA;AAiBA;AACA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAvCA;AACA;AAyCA;;;;A","sourceRoot":""}