{"ast":null,"code":"var _jsxFileName = \"/home/cjason/prodev/minextjs/pages/logout.js\";\nvar __jsx = React.createElement;\n\n/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n//react components\nimport React, { Component } from 'react';\nimport Router from 'next/router'; //custom service\n\nimport AuthService from '../utils/authser.js';\nimport Layout from '../layouts/minimalist/border1.js'; //configure AuthService onto localhost:1996\n\nconst auth = new AuthService('http://localhost:1996');\n\nclass Logout extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    //logout the user\n    auth.logout().then(res => {\n      console.log(res); //redirect to index page\n\n      Router.push('/');\n    }).catch(e => {\n      //error occurred\n      if (e.response.status == 500) {\n        //back-end error, logout user from device anyways\n        localStorage.removeItem('token');\n        localStorage.removeItem('profile');\n      }\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"REDIRECTING....\"));\n  }\n\n}\n\nexport default Logout;","map":{"version":3,"sources":["/home/cjason/prodev/minextjs/pages/logout.js"],"names":["React","Component","Router","AuthService","Layout","auth","Logout","constructor","props","componentDidMount","logout","then","res","console","log","push","catch","e","response","status","localStorage","removeItem","render"],"mappings":";;;AAAA;;;;;;AAOA;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,aAAnB,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AAEA,OAAOC,MAAP,MAAmB,kCAAnB,C,CAEA;;AACA,MAAMC,IAAI,GAAG,IAAIF,WAAJ,CAAgB,uBAAhB,CAAb;;AAEA,MAAMG,MAAN,SAAqBL,SAArB,CAA+B;AAC9BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA;;AAEDC,EAAAA,iBAAiB,GAAI;AACpB;AACAJ,IAAAA,IAAI,CAACK,MAAL,GAAcC,IAAd,CAAoBC,GAAG,IAAG;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADyB,CAGzB;;AACAV,MAAAA,MAAM,CAACa,IAAP,CAAY,GAAZ;AACA,KALD,EAKGC,KALH,CAKUC,CAAC,IAAG;AACb;AACA,UAAGA,CAAC,CAACC,QAAF,CAAWC,MAAX,IAAqB,GAAxB,EAA4B;AAC3B;AACAC,QAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,QAAAA,YAAY,CAACC,UAAb,CAAwB,SAAxB;AACA;AAED,KAbD;AAcA;;AAEDC,EAAAA,MAAM,GAAG;AACR,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADA,CADA;AAKA;;AA7B6B;;AAgC/B,eAAehB,MAAf","sourcesContent":["/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n\n//react components\nimport React, {Component} from 'react'\nimport Router from 'next/router'\n\n//custom service\nimport AuthService from '../utils/authser.js'\n\nimport Layout from '../layouts/minimalist/border1.js'\n\n//configure AuthService onto localhost:1996\nconst auth = new AuthService('http://localhost:1996')\n\nclass Logout extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t}\n\n\tcomponentDidMount () {\n\t\t//logout the user\n\t\tauth.logout().then( res=> {\n\t\t\tconsole.log(res)\n\n\t\t\t//redirect to index page\n\t\t\tRouter.push('/')\n\t\t}).catch( e=> {\n\t\t\t//error occurred\n\t\t\tif(e.response.status == 500){\n\t\t\t\t//back-end error, logout user from device anyways\n\t\t\t\tlocalStorage.removeItem('token');\n\t\t\t\tlocalStorage.removeItem('profile');\n\t\t\t}\n\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t<div>\n\t\t<div>REDIRECTING....</div>\n\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Logout\n"]},"metadata":{},"sourceType":"module"}