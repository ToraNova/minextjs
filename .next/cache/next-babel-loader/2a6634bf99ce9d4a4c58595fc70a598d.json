{"ast":null,"code":"var _jsxFileName = \"/home/cjason/prodev/minextjs/pages/signup.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n//react components\nimport React, { Component } from 'react'; //custom imports\n\nimport AuthService from '../utils/authser.js';\nimport Layout from '../layouts/minimalist/border1.js'; //configure AuthService onto localhost:1996\n\nconst auth = new AuthService('http://localhost:1996');\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    if (auth.loggedIn()) {\n      // redirect if you're already logged in\n      Router.push('/profile');\n    }\n  }\n\n  handleSubmit(e) {\n    e.preventDefault(); // yay uncontrolled forms!\n\n    auth.signUp(this.refs.email.value, this.refs.username.value, this.refs.password.value).then(res => {\n      Router.push('/profile');\n    }).catch(e => {\n      //display login error\n      if (e.response.status == 400) {\n        //unauthorized (wrong creds or invalid input)\n        //change the worm image\n        this.refs.worm.src = \"/icons/redcancel128.png\";\n        this.refs.status.innerHTML = \"Registration failed !\";\n      }\n    });\n  }\n\n  render() {\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-2510539584\" + \" \" + \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: \"/icons/babyworm128.png\",\n      alt: \"babyworm128.png\",\n      ref: \"worm\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), __jsx(\"h1\", {\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"New Wormy\"), __jsx(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      htmlFor: \"email\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Email Login\"), __jsx(\"input\", {\n      id: \"email\",\n      type: \"text\",\n      ref: \"email\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), __jsx(\"label\", {\n      htmlFor: \"username\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Username\"), __jsx(\"input\", {\n      id: \"username\",\n      type: \"text\",\n      ref: \"username\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), __jsx(\"label\", {\n      htmlFor: \"password\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Password\"), __jsx(\"input\", {\n      id: \"password\",\n      type: \"password\",\n      ref: \"password\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), __jsx(\"br\", {\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), __jsx(\"label\", {\n      ref: \"status\",\n      style: {\n        color: '#ea3636',\n        textAlign: 'right'\n      },\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      type: \"submit\",\n      value: \"Register\",\n      className: \"jsx-2510539584\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))), __jsx(_JSXStyle, {\n      id: \"2510539584\",\n      __self: this\n    }, \".login.jsx-2510539584{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-2510539584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-2510539584{font-weight:600;}input.jsx-2510539584{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-2510539584{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-2510539584{display:block;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NqYXNvbi9wcm9kZXYvbWluZXh0anMvcGFnZXMvc2lnbnVwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRFYyxBQUdvQixBQU9ILEFBSUcsQUFHSixBQU1NLEFBS0osWUFWTyxFQVdyQixFQXpCYyxBQVdkLEVBU2EsWUFuQkEsQ0FvQkQsRUFOVSxVQWJBLEFBb0J0QixZQU5rQixVQWJBLFFBY2xCLENBVmlCLFNBSGpCLHNEQUlBIiwiZmlsZSI6Ii9ob21lL2NqYXNvbi9wcm9kZXYvbWluZXh0anMvcGFnZXMvc2lnbnVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIExvZ2luIHBhZ2VcbiAqIHVzZWQgZm9yIGxvZ2dpbmcgaW5cbiAqIHBsZWFzZSByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vemVpdC9uZXh0LmpzL2lzc3Vlcy8xNTNcbiAqXG4gKi9cblxuLy9yZWFjdCBjb21wb25lbnRzXG5pbXBvcnQgUmVhY3QsIHtDb21wb25lbnR9IGZyb20gJ3JlYWN0J1xuXG4vL2N1c3RvbSBpbXBvcnRzXG5pbXBvcnQgQXV0aFNlcnZpY2UgZnJvbSAnLi4vdXRpbHMvYXV0aHNlci5qcydcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vbGF5b3V0cy9taW5pbWFsaXN0L2JvcmRlcjEuanMnXG5cbi8vY29uZmlndXJlIEF1dGhTZXJ2aWNlIG9udG8gbG9jYWxob3N0OjE5OTZcbmNvbnN0IGF1dGggPSBuZXcgQXV0aFNlcnZpY2UoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTk5NicpXG5cbmNsYXNzIFNpZ251cCBleHRlbmRzIENvbXBvbmVudCB7XG5cdGNvbnN0cnVjdG9yKHByb3BzKSB7XG5cdFx0c3VwZXIocHJvcHMpXG5cdFx0dGhpcy5oYW5kbGVTdWJtaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdC5iaW5kKHRoaXMpXG5cdH1cblxuXHRjb21wb25lbnREaWRNb3VudCAoKSB7XG5cdFx0aWYgKGF1dGgubG9nZ2VkSW4oKSkge1xuXHRcdFx0Ly8gcmVkaXJlY3QgaWYgeW91J3JlIGFscmVhZHkgbG9nZ2VkIGluXG5cdFx0XHRSb3V0ZXIucHVzaCgnL3Byb2ZpbGUnKVxuXHRcdH1cblx0fVxuXG5cdGhhbmRsZVN1Ym1pdCAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdC8vIHlheSB1bmNvbnRyb2xsZWQgZm9ybXMhXG5cdFx0YXV0aC5zaWduVXAoXG5cdFx0XHR0aGlzLnJlZnMuZW1haWwudmFsdWUsXG5cdFx0XHR0aGlzLnJlZnMudXNlcm5hbWUudmFsdWUsXG5cdFx0XHR0aGlzLnJlZnMucGFzc3dvcmQudmFsdWVcblx0XHQpXG5cdFx0LnRoZW4ocmVzID0+IHtcblx0XHRcdFJvdXRlci5wdXNoKCcvcHJvZmlsZScpXG5cdFx0fSlcblx0XHQuY2F0Y2goZSA9PiB7XG5cdFx0XHQvL2Rpc3BsYXkgbG9naW4gZXJyb3Jcblx0XHRcdGlmKGUucmVzcG9uc2Uuc3RhdHVzID09IDQwMCl7XG5cdFx0XHRcdC8vdW5hdXRob3JpemVkICh3cm9uZyBjcmVkcyBvciBpbnZhbGlkIGlucHV0KVxuXHRcdFx0XHQvL2NoYW5nZSB0aGUgd29ybSBpbWFnZVxuXHRcdFx0XHR0aGlzLnJlZnMud29ybS5zcmMgPSBcIi9pY29ucy9yZWRjYW5jZWwxMjgucG5nXCJcblx0XHRcdFx0dGhpcy5yZWZzLnN0YXR1cy5pbm5lckhUTUwgPSBcIlJlZ2lzdHJhdGlvbiBmYWlsZWQgIVwiXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG5cdHJlbmRlciAoKSB7XG5cdFx0cmV0dXJuIChcblx0XHQ8TGF5b3V0PlxuXHRcdDxkaXYgY2xhc3NOYW1lPVwibG9naW5cIj5cblx0XHQ8aW1nIHNyYz1cIi9pY29ucy9iYWJ5d29ybTEyOC5wbmdcIiBhbHQ9XCJiYWJ5d29ybTEyOC5wbmdcIiByZWY9XCJ3b3JtXCIgLz5cblx0XHQ8aDE+TmV3IFdvcm15PC9oMT5cblx0XHQ8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVTdWJtaXR9PlxuXG5cdFx0PGxhYmVsIGh0bWxGb3I9J2VtYWlsJz5FbWFpbCBMb2dpbjwvbGFiZWw+XG5cdFx0PGlucHV0IGlkPVwiZW1haWxcIiB0eXBlPVwidGV4dFwiIHJlZj1cImVtYWlsXCIvPlxuXG5cdFx0PGxhYmVsIGh0bWxGb3I9J3VzZXJuYW1lJz5Vc2VybmFtZTwvbGFiZWw+XG5cdFx0PGlucHV0IGlkPVwidXNlcm5hbWVcIiB0eXBlPVwidGV4dFwiIHJlZj1cInVzZXJuYW1lXCIvPlxuXG5cdFx0PGxhYmVsIGh0bWxGb3I9J3Bhc3N3b3JkJz5QYXNzd29yZDwvbGFiZWw+XG5cdFx0PGlucHV0IGlkPVwicGFzc3dvcmRcIiB0eXBlPVwicGFzc3dvcmRcIiByZWY9XCJwYXNzd29yZFwiLz5cblxuXHRcdDxici8+XG5cdFx0PGxhYmVsIHJlZj1cInN0YXR1c1wiIHN0eWxlPXt7Y29sb3I6JyNlYTM2MzYnLCB0ZXh0QWxpZ246ICdyaWdodCd9fT48L2xhYmVsPlxuXG5cdFx0PGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlJlZ2lzdGVyXCIvPlxuXG5cdFx0PC9mb3JtPlxuXHRcdDwvZGl2PlxuXHRcdDxzdHlsZSBqc3g+e2Bcblx0XHRcdC5sb2dpbiB7XG5cdFx0XHRtYXgtd2lkdGg6IDM0MHB4O1xuXHRcdFx0bWFyZ2luOiAwIGF1dG87XG5cdFx0XHRwYWRkaW5nOiAxcmVtO1xuXHRcdFx0Ym9yZGVyOiAxcHggc29saWQgI2NjYztcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdH1cblx0XHRcdGZvcm0ge1xuXHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdGZsZXgtZmxvdzogY29sdW1uO1xuXHRcdFx0fVxuXHRcdFx0bGFiZWwge1xuXHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdH1cblx0XHRcdGlucHV0IHtcblx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdG1hcmdpbjogMC4zcmVtIDAgMXJlbTtcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHR9XG5cdFx0XHQuZXJyb3Ige1xuXHRcdFx0bWFyZ2luOiAwLjVyZW0gMCAwO1xuXHRcdFx0ZGlzcGxheTogbm9uZTtcblx0XHRcdGNvbG9yOiBicm93bjtcblx0XHRcdH1cblx0XHRcdC5lcnJvci5zaG93IHtcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0fVxuXHRcdGB9PC9zdHlsZT5cblx0XHQ8L0xheW91dD5cblx0XHQpXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2lnbnVwXG4iXX0= */\\n/*@ sourceURL=/home/cjason/prodev/minextjs/pages/signup.js */\"));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["/home/cjason/prodev/minextjs/pages/signup.js"],"names":["React","Component","AuthService","Layout","auth","Signup","constructor","props","handleSubmit","bind","componentDidMount","loggedIn","Router","push","e","preventDefault","signUp","refs","email","value","username","password","then","res","catch","response","status","worm","src","innerHTML","render","color","textAlign"],"mappings":"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","sourcesContent":["/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n\n//react components\nimport React, {Component} from 'react'\n\n//custom imports\nimport AuthService from '../utils/authser.js'\nimport Layout from '../layouts/minimalist/border1.js'\n\n//configure AuthService onto localhost:1996\nconst auth = new AuthService('http://localhost:1996')\n\nclass Signup extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\n\tcomponentDidMount () {\n\t\tif (auth.loggedIn()) {\n\t\t\t// redirect if you're already logged in\n\t\t\tRouter.push('/profile')\n\t\t}\n\t}\n\n\thandleSubmit (e) {\n\t\te.preventDefault()\n\t\t// yay uncontrolled forms!\n\t\tauth.signUp(\n\t\t\tthis.refs.email.value,\n\t\t\tthis.refs.username.value,\n\t\t\tthis.refs.password.value\n\t\t)\n\t\t.then(res => {\n\t\t\tRouter.push('/profile')\n\t\t})\n\t\t.catch(e => {\n\t\t\t//display login error\n\t\t\tif(e.response.status == 400){\n\t\t\t\t//unauthorized (wrong creds or invalid input)\n\t\t\t\t//change the worm image\n\t\t\t\tthis.refs.worm.src = \"/icons/redcancel128.png\"\n\t\t\t\tthis.refs.status.innerHTML = \"Registration failed !\"\n\t\t\t}\n\t\t})\n\t}\n\n\trender () {\n\t\treturn (\n\t\t<Layout>\n\t\t<div className=\"login\">\n\t\t<img src=\"/icons/babyworm128.png\" alt=\"babyworm128.png\" ref=\"worm\" />\n\t\t<h1>New Wormy</h1>\n\t\t<form onSubmit={this.handleSubmit}>\n\n\t\t<label htmlFor='email'>Email Login</label>\n\t\t<input id=\"email\" type=\"text\" ref=\"email\"/>\n\n\t\t<label htmlFor='username'>Username</label>\n\t\t<input id=\"username\" type=\"text\" ref=\"username\"/>\n\n\t\t<label htmlFor='password'>Password</label>\n\t\t<input id=\"password\" type=\"password\" ref=\"password\"/>\n\n\t\t<br/>\n\t\t<label ref=\"status\" style={{color:'#ea3636', textAlign: 'right'}}></label>\n\n\t\t<input type=\"submit\" value=\"Register\"/>\n\n\t\t</form>\n\t\t</div>\n\t\t<style jsx>{`\n\t\t\t.login {\n\t\t\tmax-width: 340px;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: column;\n\t\t\t}\n\t\t\tlabel {\n\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\tinput {\n\t\t\tpadding: 8px;\n\t\t\tmargin: 0.3rem 0 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t.error {\n\t\t\tmargin: 0.5rem 0 0;\n\t\t\tdisplay: none;\n\t\t\tcolor: brown;\n\t\t\t}\n\t\t\t.error.show {\n\t\t\tdisplay: block;\n\t\t\t}\n\t\t`}</style>\n\t\t</Layout>\n\t\t)\n\t}\n}\n\nexport default Signup\n"]},"metadata":{},"sourceType":"module"}