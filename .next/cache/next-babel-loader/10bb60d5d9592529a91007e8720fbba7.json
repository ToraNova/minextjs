{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/cjason/prodev/minextjs/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\n\n/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n//react components\nimport React, { Component } from 'react'; //custom service\n\nimport AuthService from '../utils/authser.js';\nimport Layout from '../layouts/minimalist/border1.js'; //configure AuthService onto localhost:1996\n\nvar auth = new AuthService('http://localhost:1996');\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (auth.loggedIn()) {\n        // redirect if you're already logged in\n        this.props.url.replaceTo('/profile');\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(e) {\n      var _this2 = this;\n\n      e.preventDefault(); // yay uncontrolled forms!\n\n      auth.login(this.refs.email.value, this.refs.password.value).then(function (res) {\n        console.log(res);\n\n        _this2.props.url.replaceTo('/profile');\n      })[\"catch\"](function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2510539584\" + \" \" + \"login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"/worm128.png\",\n        alt: \"worm128.png\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), __jsx(\"h1\", {\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Wormy\"), __jsx(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        htmlFor: \"email\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Email Login\"), __jsx(\"input\", {\n        id: \"email\",\n        type: \"text\",\n        ref: \"email\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), __jsx(\"label\", {\n        htmlFor: \"password\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Password\"), __jsx(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        ref: \"password\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), __jsx(\"input\", {\n        type: \"submit\",\n        value: \"Login\",\n        className: \"jsx-2510539584\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))), __jsx(_JSXStyle, {\n        id: \"2510539584\",\n        __self: this\n      }, \".login.jsx-2510539584{max-width:340px;margin:0 auto;padding:1rem;border:1px solid #ccc;border-radius:4px;}form.jsx-2510539584{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;}label.jsx-2510539584{font-weight:600;}input.jsx-2510539584{padding:8px;margin:0.3rem 0 1rem;border:1px solid #ccc;border-radius:4px;}.error.jsx-2510539584{margin:0.5rem 0 0;display:none;color:brown;}.error.show.jsx-2510539584{display:block;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2NqYXNvbi9wcm9kZXYvbWluZXh0anMvcGFnZXMvbG9naW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBOERjLEFBR29CLEFBT0gsQUFJRyxBQUdKLEFBTU0sQUFLSixZQVZPLEVBV3JCLEVBekJjLEFBV2QsRUFTYSxZQW5CQSxDQW9CRCxFQU5VLFVBYkEsQUFvQnRCLFlBTmtCLFVBYkEsUUFjbEIsQ0FWaUIsU0FIakIsc0RBSUEiLCJmaWxlIjoiL2hvbWUvY2phc29uL3Byb2Rldi9taW5leHRqcy9wYWdlcy9sb2dpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBMb2dpbiBwYWdlXG4gKiB1c2VkIGZvciBsb2dnaW5nIGluXG4gKiBwbGVhc2UgcmVmZXIgdG8gaHR0cHM6Ly9naXRodWIuY29tL3plaXQvbmV4dC5qcy9pc3N1ZXMvMTUzXG4gKlxuICovXG5cbi8vcmVhY3QgY29tcG9uZW50c1xuaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCdcblxuLy9jdXN0b20gc2VydmljZVxuaW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3V0aWxzL2F1dGhzZXIuanMnXG5cbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vbGF5b3V0cy9taW5pbWFsaXN0L2JvcmRlcjEuanMnXG5cbi8vY29uZmlndXJlIEF1dGhTZXJ2aWNlIG9udG8gbG9jYWxob3N0OjE5OTZcbmNvbnN0IGF1dGggPSBuZXcgQXV0aFNlcnZpY2UoJ2h0dHA6Ly9sb2NhbGhvc3Q6MTk5NicpXG5cbmNsYXNzIExvZ2luIGV4dGVuZHMgQ29tcG9uZW50IHtcblx0Y29uc3RydWN0b3IocHJvcHMpIHtcblx0XHRzdXBlcihwcm9wcylcblx0XHR0aGlzLmhhbmRsZVN1Ym1pdCA9IHRoaXMuaGFuZGxlU3VibWl0LmJpbmQodGhpcylcblx0fVxuXG5cdGNvbXBvbmVudERpZE1vdW50ICgpIHtcblx0XHRpZiAoYXV0aC5sb2dnZWRJbigpKSB7XG5cdFx0XHQvLyByZWRpcmVjdCBpZiB5b3UncmUgYWxyZWFkeSBsb2dnZWQgaW5cblx0XHRcdHRoaXMucHJvcHMudXJsLnJlcGxhY2VUbygnL3Byb2ZpbGUnKVxuXHRcdH1cblx0fVxuXG5cdGhhbmRsZVN1Ym1pdCAoZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKVxuXHRcdC8vIHlheSB1bmNvbnRyb2xsZWQgZm9ybXMhXG5cdFx0YXV0aC5sb2dpbih0aGlzLnJlZnMuZW1haWwudmFsdWUsIHRoaXMucmVmcy5wYXNzd29yZC52YWx1ZSlcblx0XHQudGhlbihyZXMgPT4ge1xuXHRcdGNvbnNvbGUubG9nKHJlcylcblx0XHR0aGlzLnByb3BzLnVybC5yZXBsYWNlVG8oJy9wcm9maWxlJylcblx0XHR9KVxuXHRcdC5jYXRjaChlID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKGUpXG5cdFx0fSlcblx0fVxuXG5cdHJlbmRlciAoKSB7XG5cdFx0cmV0dXJuIChcblx0XHQ8TGF5b3V0PlxuXHRcdDxkaXYgY2xhc3NOYW1lPVwibG9naW5cIj5cblx0XHQ8aW1nIHNyYz1cIi93b3JtMTI4LnBuZ1wiIGFsdD1cIndvcm0xMjgucG5nXCIgLz5cblx0XHQ8aDE+V29ybXk8L2gxPlxuXHRcdDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVN1Ym1pdH0+XG5cblx0XHQ8bGFiZWwgaHRtbEZvcj0nZW1haWwnPkVtYWlsIExvZ2luPC9sYWJlbD5cblx0XHQ8aW5wdXQgaWQ9XCJlbWFpbFwiIHR5cGU9XCJ0ZXh0XCIgcmVmPVwiZW1haWxcIi8+XG5cblx0XHQ8bGFiZWwgaHRtbEZvcj0ncGFzc3dvcmQnPlBhc3N3b3JkPC9sYWJlbD5cblx0XHQ8aW5wdXQgaWQ9XCJwYXNzd29yZFwiIHR5cGU9XCJwYXNzd29yZFwiIHJlZj1cInBhc3N3b3JkXCIvPlxuXG5cdFx0PGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIkxvZ2luXCIvPlxuXG5cdFx0PC9mb3JtPlxuXHRcdDwvZGl2PlxuXHRcdDxzdHlsZSBqc3g+e2Bcblx0XHRcdC5sb2dpbiB7XG5cdFx0XHRtYXgtd2lkdGg6IDM0MHB4O1xuXHRcdFx0bWFyZ2luOiAwIGF1dG87XG5cdFx0XHRwYWRkaW5nOiAxcmVtO1xuXHRcdFx0Ym9yZGVyOiAxcHggc29saWQgI2NjYztcblx0XHRcdGJvcmRlci1yYWRpdXM6IDRweDtcblx0XHRcdH1cblx0XHRcdGZvcm0ge1xuXHRcdFx0ZGlzcGxheTogZmxleDtcblx0XHRcdGZsZXgtZmxvdzogY29sdW1uO1xuXHRcdFx0fVxuXHRcdFx0bGFiZWwge1xuXHRcdFx0Zm9udC13ZWlnaHQ6IDYwMDtcblx0XHRcdH1cblx0XHRcdGlucHV0IHtcblx0XHRcdHBhZGRpbmc6IDhweDtcblx0XHRcdG1hcmdpbjogMC4zcmVtIDAgMXJlbTtcblx0XHRcdGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG5cdFx0XHRib3JkZXItcmFkaXVzOiA0cHg7XG5cdFx0XHR9XG5cdFx0XHQuZXJyb3Ige1xuXHRcdFx0bWFyZ2luOiAwLjVyZW0gMCAwO1xuXHRcdFx0ZGlzcGxheTogbm9uZTtcblx0XHRcdGNvbG9yOiBicm93bjtcblx0XHRcdH1cblx0XHRcdC5lcnJvci5zaG93IHtcblx0XHRcdGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0fVxuXHRcdGB9PC9zdHlsZT5cblx0XHQ8L0xheW91dD5cblx0XHQpXG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9naW5cbiJdfQ== */\\n/*@ sourceURL=/home/cjason/prodev/minextjs/pages/login.js */\"));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/cjason/prodev/minextjs/pages/login.js"],"names":["React","Component","AuthService","Layout","auth","Login","props","handleSubmit","bind","loggedIn","url","replaceTo","e","preventDefault","login","refs","email","value","password","then","res","console","log"],"mappings":";;;;;;;;;;AAAA;;;;;;AAOA;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B,C,CAEA;;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AAEA,OAAOC,MAAP,MAAmB,kCAAnB,C,CAEA;;AACA,IAAMC,IAAI,GAAG,IAAIF,WAAJ,CAAgB,uBAAhB,CAAb;;IAEMG,K;;;;;AACL,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAClB,+EAAMA,KAAN;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,+BAApB;AAFkB;AAGlB;;;;wCAEoB;AACpB,UAAIJ,IAAI,CAACK,QAAL,EAAJ,EAAqB;AACpB;AACA,aAAKH,KAAL,CAAWI,GAAX,CAAeC,SAAf,CAAyB,UAAzB;AACA;AACD;;;iCAEaC,C,EAAG;AAAA;;AAChBA,MAAAA,CAAC,CAACC,cAAF,GADgB,CAEhB;;AACAT,MAAAA,IAAI,CAACU,KAAL,CAAW,KAAKC,IAAL,CAAUC,KAAV,CAAgBC,KAA3B,EAAkC,KAAKF,IAAL,CAAUG,QAAV,CAAmBD,KAArD,EACCE,IADD,CACM,UAAAC,GAAG,EAAI;AACbC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAA,MAAI,CAACd,KAAL,CAAWI,GAAX,CAAeC,SAAf,CAAyB,UAAzB;AACC,OAJD,WAKO,UAAAC,CAAC,EAAI;AACXS,QAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ;AACA,OAPD;AAQA;;;6BAES;AACT,aACA,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAA,4CAAe,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,GAAG,EAAC,cAAT;AAAwB,QAAA,GAAG,EAAC,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFA,EAGA;AAAM,QAAA,QAAQ,EAAE,KAAKL,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEA;AAAO,QAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFA,EAGA;AAAO,QAAA,EAAE,EAAC,OAAV;AAAkB,QAAA,IAAI,EAAC,MAAvB;AAA8B,QAAA,GAAG,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHA,EAKA;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALA,EAMA;AAAO,QAAA,EAAE,EAAC,UAAV;AAAqB,QAAA,IAAI,EAAC,UAA1B;AAAqC,QAAA,GAAG,EAAC,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANA,EAQA;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,OAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARA,CAHA,CADA;AAAA;AAAA;AAAA,iyHADA;AAiDA;;;;EA5EkBN,S;;AA+EpB,eAAeI,KAAf","sourcesContent":["/*\n * Login page\n * used for logging in\n * please refer to https://github.com/zeit/next.js/issues/153\n *\n */\n\n//react components\nimport React, {Component} from 'react'\n\n//custom service\nimport AuthService from '../utils/authser.js'\n\nimport Layout from '../layouts/minimalist/border1.js'\n\n//configure AuthService onto localhost:1996\nconst auth = new AuthService('http://localhost:1996')\n\nclass Login extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t}\n\n\tcomponentDidMount () {\n\t\tif (auth.loggedIn()) {\n\t\t\t// redirect if you're already logged in\n\t\t\tthis.props.url.replaceTo('/profile')\n\t\t}\n\t}\n\n\thandleSubmit (e) {\n\t\te.preventDefault()\n\t\t// yay uncontrolled forms!\n\t\tauth.login(this.refs.email.value, this.refs.password.value)\n\t\t.then(res => {\n\t\tconsole.log(res)\n\t\tthis.props.url.replaceTo('/profile')\n\t\t})\n\t\t.catch(e => {\n\t\t\tconsole.log(e)\n\t\t})\n\t}\n\n\trender () {\n\t\treturn (\n\t\t<Layout>\n\t\t<div className=\"login\">\n\t\t<img src=\"/worm128.png\" alt=\"worm128.png\" />\n\t\t<h1>Wormy</h1>\n\t\t<form onSubmit={this.handleSubmit}>\n\n\t\t<label htmlFor='email'>Email Login</label>\n\t\t<input id=\"email\" type=\"text\" ref=\"email\"/>\n\n\t\t<label htmlFor='password'>Password</label>\n\t\t<input id=\"password\" type=\"password\" ref=\"password\"/>\n\n\t\t<input type=\"submit\" value=\"Login\"/>\n\n\t\t</form>\n\t\t</div>\n\t\t<style jsx>{`\n\t\t\t.login {\n\t\t\tmax-width: 340px;\n\t\t\tmargin: 0 auto;\n\t\t\tpadding: 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\tform {\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: column;\n\t\t\t}\n\t\t\tlabel {\n\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\tinput {\n\t\t\tpadding: 8px;\n\t\t\tmargin: 0.3rem 0 1rem;\n\t\t\tborder: 1px solid #ccc;\n\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t.error {\n\t\t\tmargin: 0.5rem 0 0;\n\t\t\tdisplay: none;\n\t\t\tcolor: brown;\n\t\t\t}\n\t\t\t.error.show {\n\t\t\tdisplay: block;\n\t\t\t}\n\t\t`}</style>\n\t\t</Layout>\n\t\t)\n\t}\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}